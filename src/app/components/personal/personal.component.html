<h1><b>Personal Details</b></h1>

<form [formGroup]="personalForm" (submit)="success()">
  
    <div fxLayout="row" fxLayout.lt-lg="column"> 
    <label for="lnch"  fxFlex="60%">LNCH</label>
        <mat-form-field appearance="outline"  fxFlex="40%"> 
          <mat-label>LNCH</mat-label>
          <input matInput formControlName="lnch" id="lnch" name="lnch" placeholder="Enter LNCH" (change)="change()" [(ngModel)]="plnch">
      <mat-error
        *ngIf="personalForm.controls.lnch.hasError('required') &&(personalForm.controls.lnch.dirty || personalForm.controls.lnch.touched)"
        class="error">This field is mandatory</mat-error>
      <mat-error
        *ngIf="personalForm.controls.lnch.hasError('pattern') &&(personalForm.controls.lnch.dirty || personalForm.controls.lnch.touched)"
        class="error">Only 10 digit numerical value allowed</mat-error>
      </mat-form-field>
  </div>

  <mat-divider class="line"></mat-divider>

  <div formGroupName="fullname">
    <label class="">Full Name</label><br>
    <div fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="space-between"> 
        <mat-form-field appearance="outline" fxFlex="31%">
          <mat-label>Firstname</mat-label>
        <input matInput id="firstname"  placeholder="Enter firstname"
          formControlName="firstname" name="firstname" (change)="change()" [(ngModel)]="pfirstname">
        <mat-error
          *ngIf="personalForm.get('fullname').get('firstname').hasError('required') &&(personalForm.get('fullname').get('firstname').dirty || personalForm.get('fullname').get('firstname').touched)"
          class="error">This field is mandatory</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullname').get('firstname').hasError('pattern') &&(personalForm.get('fullname').get('firstname').dirty || personalForm.get('fullname').get('firstname').touched)"
          class="error">Only alphabets allowed</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullname').get('firstname').hasError('maxlength') &&(personalForm.get('fullname').get('firstname').dirty || personalForm.get('fullname').get('firstname').touched)"
          class="error">Max length can be 20 characters</mat-error>
          </mat-form-field>
  
        <mat-form-field appearance="outline" fxFlex="31%">
          <mat-label>Middlename</mat-label>
        <input matInput  id="lastname"  placeholder="Enter middlename"
          formControlName="lastname" name="lastname" (change)="change()" [(ngModel)]="plastname">
        <mat-error
          *ngIf="personalForm.get('fullname').get('lastname').hasError('pattern') &&(personalForm.get('fullname').get('lastname').dirty || personalForm.get('fullname').get('lastname').touched)"
          class="error">Only alphabets allowed</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="31%" > 
          <mat-label>Lastname</mat-label>
        <input matInput id="surname"  placeholder="Enter lastname"
          formControlName="surname" name="suname" (change)="change()" [(ngModel)]="psurname">
        <mat-error
          *ngIf="personalForm.get('fullname').get('surname').hasError('required') &&(personalForm.get('fullname').get('surname').dirty || personalForm.get('fullname').get('surname').touched)"
          class="error">This field is mandatory</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullname').get('surname').hasError('pattern') &&(personalForm.get('fullname').get('surname').dirty || personalForm.get('fullname').get('surname').touched)"
          class="error">Only alphabets allowed</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullname').get('surname').hasError('maxlength') &&(personalForm.get('fullname').get('surname').dirty || personalForm.get('fullname').get('surname').touched)"
          class="error">Max length can be 20 characters</mat-error>
        </mat-form-field>
    </div>
  </div>

  <mat-divider class="line"></mat-divider>

  <div formGroupName="fullnameeng">
    <label>Full Name in English</label><br>
   <div fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="space-between"> 
        <mat-form-field appearance="outline"  fxFlex="31%">
          <mat-label>Firstname</mat-label>
        <input matInput  id="firstnameeng" 
          placeholder="Enter firstname" formControlName="firstnameeng" name="firstnameeng" (change)="change()" [(ngModel)]="pfirstnameeng">
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('firstnameeng').hasError('required') &&(personalForm.get('fullnameeng').get('firstnameeng').dirty || personalForm.get('fullnameeng').get('firstnameeng').touched)"
          class="error">This field is mandatory</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('firstnameeng').hasError('pattern') &&(personalForm.get('fullnameeng').get('firstnameeng').dirty || personalForm.get('fullnameeng').get('firstnameeng').touched)"
          class="error">Only alphabets allowed</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('firstnameeng').hasError('maxlength') &&(personalForm.get('fullnameeng').get('firstnameeng').dirty || personalForm.get('fullnameeng').get('firstnameeng').touched)"
          class="error">Max length can be 20 characters</mat-error>
          </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="31%">
          <mat-label>Middlename</mat-label>
        <input matInput  id="lastnameeng" 
          placeholder="Enter middlename" formControlName="lastnameeng" name="lastnameeng" (change)="change()" [(ngModel)]="plastnameeng">
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('lastnameeng').hasError('pattern') &&(personalForm.get('fullnameeng').get('lastnameeng').dirty || personalForm.get('fullnameeng').get('lastnameeng').touched)"
          class="error">Only alphabets allowed</mat-error>
        </mat-form-field>
    
        <mat-form-field appearance="outline"  fxFlex="31%">
          <mat-label>Lastname</mat-label>
        <input matInput id="surnameeng" name="surnameeng" placeholder="Enter lastname"
          formControlName="surnameeng" (change)="change()"  [(ngModel)]="psurnameeng">
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('surnameeng').hasError('required') &&(personalForm.get('fullnameeng').get('surnameeng').dirty || personalForm.get('fullnameeng').get('surnameeng').touched)"
          class="error">This field is mandatory</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('surnameeng').hasError('pattern') &&(personalForm.get('fullnameeng').get('surnameeng').dirty || personalForm.get('fullnameeng').get('surnameeng').touched)"
          class="error">Only alphabets allowed</mat-error>
        <mat-error
          *ngIf="personalForm.get('fullnameeng').get('surnameeng').hasError('maxlength') &&(personalForm.get('fullnameeng').get('surnameeng').dirty || personalForm.get('fullnameeng').get('surnameeng').touched)"
          class="error">Max length can be 20 characters</mat-error>
        </mat-form-field>
    </div>
  </div>
  <div class="panel"  fxLayout="row" fxLayoutAlign="space-between" >
    <div fxFlex="10%">  
      <img class="user-key" src="../../assets/excl.jpg">
    </div>
    <div fxFlex="80%">
    Please compare data in latin with data in vehicle registration certificate
    or identity document.Data will be used for printout of Green Card Certificate.
  </div>
  </div>
  <div fxLayout="row" fxLayout.lt-lg="column"> 
    <label for="citizen" fxFlex="60%">Citizenship</label>

      <mat-form-field appearance="outline" fxFlex="40%">
        <mat-label>Citizenship</mat-label>
      <mat-select  id="citizen"  formControlName="citizen" name="citizen"
        (change)="change()" [(ngModel)]="pcitizen">
        <mat-option selected disabled value="">--SELECT--</mat-option>
        <mat-option *ngFor="let c of citizens" [value]="c">{{c}}</mat-option>
      </mat-select>
      <mat-error
        *ngIf="personalForm.controls.citizen.hasError('required') &&(personalForm.controls.citizen.dirty || personalForm.controls.citizen.touched)"
        >Please select your Citizenship</mat-error>
      </mat-form-field>

  </div>

  <mat-divider class="line"></mat-divider>

  <div fxLayout="row" fxLayout.lt-lg="column"> 
    <label for="birth" fxFlex="60%" >Birth Date</label>
   
      <mat-form-field appearance="outline" fxFlex="40%">
        <mat-label>DateOfBirth</mat-label>
      <input  matInput [matDatepicker]="picker"  id="birth"
        placeholder="Enter Birth date" formControlName="birth" name="birth" (change)="change()" [ngModel]="pdob | date: 'yyyy-MM-dd'">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      <mat-error
        *ngIf="personalForm.controls.birth.hasError('required') &&(personalForm.controls.birth.dirty || personalForm.controls.birth.touched)"
        class="error">Please select your birth date </mat-error>
      </mat-form-field>

  </div>
  <mat-divider class="line"></mat-divider>
  <button  mat-raised-button matStepperNext color="primary" type="submit" id="personalbtn" name="personalbtn" class="rounded-pill  col-sm-4 col-lg-2 col-md-3 nextbtn"
     [disabled]="!personalForm.valid">Next</button>
</form>
